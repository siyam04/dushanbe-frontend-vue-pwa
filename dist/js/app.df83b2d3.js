(function(e){function t(t){for(var i,s,o=t[0],r=t[1],c=t[2],b=0,u=[];b<o.length;b++)s=o[b],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&u.push(n[s][0]),n[s]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);d&&d(t);while(u.length)u.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],i=!0,o=1;o<a.length;o++){var r=a[o];0!==n[r]&&(i=!1)}i&&(l.splice(t--,1),e=s(s.s=a[0]))}return e}var i={},n={app:0},l=[];function s(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=i,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(a,i,function(t){return e[t]}.bind(null,i));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=r;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0b53":function(e,t,a){"use strict";a("c9ad")},"24e1":function(e,t,a){},3425:function(e,t,a){"use strict";a("9c94")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("ad3d"),n=(a("ab8b"),a("3e48"),a("7a23"));function l(e,t,a,i,l,s){var o=Object(n["v"])("router-view");return Object(n["p"])(),Object(n["d"])(o)}var s={name:"App",components:{}};a("e2c0");s.render=l;var o=s,r=a("ecee"),c=a("c074");r["c"].add(c["a"]);var d=a("9483");Object(d["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});a("fb6a");Object(n["w"])("data-v-7adb7010");var b={class:"main-header bg-white shadow-sm px-3 py-2"},u={class:"container"},g={class:"header-box bg-white d-flex align-items-center justify-content-between"},m=Object(n["g"])("div",{class:"header d-flex align-items-center"},[Object(n["g"])("img",{src:"https://ludwigpfeiffer.com/wp-content/themes/Ludwig-Pfeiffer_Theme/img/logo.png",alt:"Dushanbe"}),Object(n["g"])("h1",{class:"mb-0"},"Works List")],-1),p={class:"page-title-heading"},O=Object(n["g"])("button",{type:"button",class:"btn btn-primary"},[Object(n["g"])("span",{class:"fas fa-plus-circle mr-1"}),Object(n["f"])(" Add Work ")],-1),f={class:"container "},j={key:0,class:"loading-container"},v=Object(n["g"])("div",{class:"d-flex align-items-center"},[Object(n["g"])("div",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),Object(n["g"])("h6",{class:"ml-2 mb-0"},"Loading...")],-1),_={class:"accordion mt-4",id:"accordionExample"},h={class:"mb-0"},y={class:"card-body border-top"},w={class:"outer-box type-and-user"},k={class:"inner-box"},S=Object(n["g"])("small",null,"Serial No",-1),x={class:"inner-box"},I=Object(n["g"])("small",null,"Unit",-1),B={class:"text"},D={class:"inner-box"},P=Object(n["g"])("small",null,"Quantity",-1),F={class:"inner-box"},N=Object(n["g"])("small",null,"Work Progress",-1),A={class:"inner-box"},L=Object(n["g"])("small",null,"Submitted By",-1),C={class:"inner-box"},M=Object(n["g"])("small",null,"Type",-1),W={class:"inner-box mt-3"},E=Object(n["g"])("small",null,"Material",-1),T={class:"mb-0"},U=Object(n["g"])("div",{class:"dropdown-divider my-3"},null,-1),q={class:"outer-box"},J=Object(n["g"])("h5",null,"Material",-1),V=Object(n["g"])("div",{class:"dropdown-divider my-3"},null,-1),$={class:"box"},z=Object(n["g"])("small",null,"Submitted By",-1),R={class:"mb-0"},Q={"aria-label":"Page navigation example"},Y={class:"row"},G=Object(n["g"])("h4",null,"Siyam Pagination",-1),H={class:"col-md-4"},K={key:0,class:"pagination"},X={class:"page-item"},Z={href:"#"},ee=Object(n["g"])("div",{class:"col-md-6"},null,-1),te=Object(n["g"])("div",{class:"col-md-2"},null,-1);function ae(e,t,a,i,l,s){var o=Object(n["v"])("router-link"),r=Object(n["v"])("CheckOnlineOrOffline");return Object(n["p"])(),Object(n["d"])(n["a"],null,[Object(n["g"])("div",b,[Object(n["g"])("div",u,[Object(n["g"])("div",g,[m,Object(n["g"])("div",p,[Object(n["g"])(o,{to:{name:"WorkSubmissionCreate"}},{default:Object(n["D"])((function(){return[O]})),_:1})])])])]),Object(n["g"])(r,{class:"mb-4"}),Object(n["g"])("div",f,[l.isLoading?(Object(n["p"])(),Object(n["d"])("div",j,[v])):Object(n["e"])("",!0),Object(n["g"])("div",_,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(l.all_work_submissions.slice(),(function(e,t){return Object(n["p"])(),Object(n["d"])("div",{class:"card",key:e.id},[Object(n["g"])("div",{class:"card-header",id:"heading_"+e.id},[Object(n["g"])("h2",h,[Object(n["g"])("button",{class:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapse_"+e.id,"aria-expanded":t<1,"aria-controls":"collapse_"+e.id},[Object(n["g"])("span",null,Object(n["y"])(e.id+". "+e.bill.bill_name+"..."),1),Object(n["g"])("span",null,Object(n["y"])(e.submission_date),1)],8,["data-target","aria-expanded","aria-controls"])])],8,["id"]),Object(n["g"])("div",{id:"collapse_"+e.id,class:t<1?"collapse show":"collapse","aria-labelledby":"heading_"+e.id,"data-parent":"#accordionExample"},[Object(n["g"])("div",y,[Object(n["g"])("div",w,[Object(n["g"])("div",k,[S,Object(n["g"])("h5",null,Object(n["y"])(e.material.serial_no),1)]),Object(n["g"])("div",x,[I,Object(n["g"])("h5",B,Object(n["y"])(e.material.unit),1)]),Object(n["g"])("div",D,[P,Object(n["g"])("h5",null,Object(n["y"])(e.material.quantity),1)]),Object(n["g"])("div",F,[N,Object(n["g"])("h5",null,Object(n["y"])(e.work_progress),1)]),Object(n["g"])("div",A,[L,Object(n["g"])("h5",null,Object(n["y"])(e.created_by.username),1)]),Object(n["g"])("div",C,[M,Object(n["g"])("h5",null,Object(n["y"])(e.type.type_name),1)])]),Object(n["g"])("div",W,[E,Object(n["g"])("p",T,Object(n["y"])(e.material.material_name),1)]),U,Object(n["g"])("div",q,[J,Object(n["g"])("p",null,Object(n["y"])(e.material.material_name),1)]),V,Object(n["g"])("div",$,[z,Object(n["g"])("h5",R,Object(n["y"])(e.created_by.username),1)])])],10,["id","aria-labelledby"])])})),128))]),Object(n["g"])("nav",Q,[Object(n["g"])("div",Y,[G,Object(n["g"])("div",H,[l.pagination.count?(Object(n["p"])(),Object(n["d"])("ul",K,[Object(n["g"])("li",X,[Object(n["g"])("a",Z,"Showing "+Object(n["y"])(l.pagination.showing)+" of "+Object(n["y"])(l.pagination.count),1)]),Object(n["g"])("li",{class:[{disabled:!l.pagination.previous},"page-item"]},[Object(n["g"])("a",{href:"#!",onClick:t[1]||(t[1]=function(e){return s.setPage(l.pagination.previous)})},"Previous")],2),Object(n["g"])("li",{class:[{disabled:!l.pagination.next},"page-item"]},[Object(n["g"])("a",{href:"#!",onClick:t[2]||(t[2]=function(e){return s.setPage(l.pagination.next)})},"Next")],2)])):Object(n["e"])("",!0)]),ee,te])])])],64)}Object(n["w"])(null);var ie=a("1da1"),ne=(a("96cf"),a("bc3a")),le=a.n(ne),se=(a("d3b7"),function(e){return new Promise((function(t){var a={headers:{}},i=localStorage.getItem("token");i&&(a.headers["Authorization"]="token "+i);var n="https://dushanbe-backend-apis.herokuapp.com/api/";le.a.get(n+e,{headers:{Authorization:"token ".concat(i)}}).then((function(e){t(e.data)})).catch((function(e){console.log(e),t(!1)}))}))}),oe={class:"onlineStatus"},re={key:0},ce=Object(n["g"])("div",{class:"alert alert-success text-small",role:"alert"},[Object(n["f"])(" You are in "),Object(n["g"])("strong",null,"Online"),Object(n["f"])(". ")],-1),de={key:1},be=Object(n["g"])("div",{class:"alert alert-danger",role:"alert"},[Object(n["f"])(" You are in "),Object(n["g"])("a",{href:"#",class:"alert-link"},"Offline"),Object(n["f"])(". ")],-1);function ue(e,t,a,i,l,s){return Object(n["p"])(),Object(n["d"])("div",oe,[l.isOnline?(Object(n["p"])(),Object(n["d"])("div",re,[ce])):(Object(n["p"])(),Object(n["d"])("div",de,[be]))])}var ge={name:"CheckOnlineOrOffline",data:function(){return{isOnline:!1}},methods:{onlineStatus:function(){window.navigator.onLine?this.isOnline=!0:this.isOnline}},created:function(){this.onlineStatus()}};a("59cf");ge.render=ue;var me=ge,pe={components:{CheckOnlineOrOffline:me},name:"WorkSubmissionList",data:function(){return{all_work_submissions:[],url:"https://dushanbe-backend-apis.herokuapp.com/api/work-submissions/",currentPage:1,isLoading:!0,isOnline:!1,pagination:{count:null,next:null,previous:null,showing:0,page:null}}},methods:{loadWorkSubmission:function(){var e=this,t=localStorage.getItem("token"),a=parseInt(localStorage.getItem("id")),i={page:this.$route.query.page};le.a.get(this.url,{headers:{Authorization:"token ".concat(t)},params:{user_id:a,page:this.$route.query.page,queryParam:i}}).then((function(t){e.all_work_submissions=t.data.results,localStorage.setItem("work_submissions",JSON.stringify(e.all_work_submissions)),e.isLoading=!1,e.pagination.count=t.data.count,e.pagination.next=t.data.next,e.pagination.previous=t.data.previous,e.pagination.showing=t.data.results.length})).catch((function(e){console.log(e)})),localStorage.getItem("work_submissions")&&(this.all_work_submissions=JSON.parse(localStorage.getItem("work_submissions")),this.isLoading=!1)},setPage:function(e){this.pagination.page=e,this.searchWork()},searchWork:function(){var e=this;return Object(ie["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$router.push({path:"work-submission-list",query:{page:e.pagination.page}});case 2:e.loadWorkSubmission();case 3:case"end":return t.stop()}}),t)})))()}},created:function(){this.loadWorkSubmission()}};a("fdaf");pe.render=ae,pe.__scopeId="data-v-7adb7010";var Oe=pe;function fe(e,t,a,i,l,s){var o=Object(n["v"])("Form");return Object(n["p"])(),Object(n["d"])("div",null,[Object(n["g"])(o)])}Object(n["w"])("data-v-6e23df68");var je={class:"loginContainer"},ve={class:"container"},_e={class:"form-container"},he=Object(n["g"])("div",{class:"logo-container mb-4 d-flex align-items-center"},[Object(n["g"])("img",{src:"https://ludwigpfeiffer.com/wp-content/themes/Ludwig-Pfeiffer_Theme/img/logo.png",alt:"Dushanbe"}),Object(n["g"])("div",null,[Object(n["g"])("h3",{class:"login-header-text"},"Login | DUSHANBE"),Object(n["g"])("p",{class:"formDescription mb-0"},"www.ludwigpfeiffer.com")])],-1),ye={class:"formInput"},we={class:"form-group"},ke={class:"form-group"};function Se(e,t,a,i,l,s){return Object(n["p"])(),Object(n["d"])("div",null,[Object(n["g"])("div",je,[Object(n["g"])("div",ve,[Object(n["g"])("div",_e,[he,Object(n["g"])("div",ye,[Object(n["g"])("form",{style:{"max-width":"500px",margin:"auto"},action:"#",onSubmit:t[4]||(t[4]=Object(n["F"])((function(){return s.loginSubmit&&s.loginSubmit.apply(s,arguments)}),["prevent"]))},[Object(n["g"])("div",we,[Object(n["E"])(Object(n["g"])("input",{class:["form-control",{"is-invalid":l.login_validation_data&&l.login_validation_data.username}],type:"email",placeholder:"Email",name:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return l.username=e})},null,2),[[n["B"],l.username]]),l.login_validation_data&&l.login_validation_data.username?(Object(n["p"])(),Object(n["d"])("div",{key:0,class:{"invalid-feedback":l.login_validation_data&&l.login_validation_data.username}},Object(n["y"])(l.login_validation_data.username[0]),3)):Object(n["e"])("",!0)]),Object(n["g"])("div",ke,[Object(n["E"])(Object(n["g"])("input",{class:["form-control",{"is-invalid":l.login_validation_data&&l.login_validation_data.password}],type:"password",placeholder:"Password",name:"psw","onUpdate:modelValue":t[2]||(t[2]=function(e){return l.password=e})},null,2),[[n["B"],l.password]]),l.login_validation_data&&l.login_validation_data.password?(Object(n["p"])(),Object(n["d"])("div",{key:0,class:{"invalid-feedback":l.login_validation_data&&l.login_validation_data.password}},Object(n["y"])(l.login_validation_data.password[0]),3)):Object(n["e"])("",!0)]),Object(n["g"])("button",{onSubmit:t[3]||(t[3]=Object(n["F"])((function(){return s.loginSubmit&&s.loginSubmit.apply(s,arguments)}),["prevent"])),type:"submit",class:" btn btn-primary mt-1",disabled:!!l.isDataSubmit},Object(n["y"])(l.isDataSubmit?"Loading...":"LOGIN"),41,["disabled"])],32)])])])])])}Object(n["w"])(null);var xe=a("3d20"),Ie=a.n(xe),Be={name:"Form",data:function(){return{username:null,password:null,login_validation_data:{username:null,password:null},isDataSubmit:!1}},methods:{loginSubmit:function(){var e=this;this.isDataSubmit=!0,le.a.post("https://dushanbe-backend-apis.herokuapp.com/api/login/",{username:this.username,password:this.password}).then((function(t){localStorage.setItem("id",t.data.id),localStorage.setItem("username",t.data.username),localStorage.setItem("first_name",t.data.first_name),localStorage.setItem("last_name",t.data.last_name),localStorage.setItem("active_status",t.data.active_status),localStorage.setItem("superuser_status",t.data.superuser_status),localStorage.setItem("token",t.data.token),localStorage.setItem("groups",JSON.stringify(t.data.groups)),localStorage.setItem("user_permissions",JSON.stringify(t.data.user_permissions)),e.isDataSubmit=!1,e.$router.push("work-submission-create")})).catch((function(t){return e.login_validation_data=t.response.data,xe["fire"]({icon:"error",text:"Provided Credentials Are Not Correct! Please Try Again..."}),t.status(400).json({error:t})}))}}};a("c698");Be.render=Se,Be.__scopeId="data-v-6e23df68";var De=Be,Pe={name:"Login",components:{Form:De}};Pe.render=fe;var Fe=Pe;function Ne(e,t,a,i,l,s){var o=Object(n["v"])("Form"),r=Object(n["v"])("Master");return Object(n["p"])(),Object(n["d"])("div",null,[Object(n["g"])(r,null,{contents:Object(n["D"])((function(){return[Object(n["g"])(o)]})),_:1})])}function Ae(e,t,a,i,l,s){var o=Object(n["v"])("Navbar"),r=Object(n["v"])("CheckOnlineOrOffline");return Object(n["p"])(),Object(n["d"])("div",null,[Object(n["g"])(o),Object(n["g"])(r),Object(n["u"])(e.$slots,"contents")])}Object(n["w"])("data-v-570b0635");var Le={class:"navbar navbar-expand-lg bg-white shadow-sm"},Ce={class:"container my-0"},Me={class:"main-container d-flex justify-content-between align-items-center"},We={class:"navbar-brand text-dark",href:"#"},Ee={class:"navbar-nav flex-row"},Te={class:"nav-item"},Ue=Object(n["f"])("View "),qe={class:"nav-item"};function Je(e,t,a,i,l,s){var o=Object(n["v"])("fa-icon"),r=Object(n["v"])("router-link");return Object(n["p"])(),Object(n["d"])("nav",Le,[Object(n["g"])("div",Ce,[Object(n["g"])("div",Me,[Object(n["g"])("a",We,[Object(n["g"])(o,{icon:"user"}),Object(n["f"])(" "+Object(n["y"])(l.username),1)]),Object(n["g"])("ul",Ee,[Object(n["g"])("li",Te,[Object(n["g"])(r,{class:"nav-link",id:"work_details_button",to:{name:"WorkSubmissionList"}},{default:Object(n["D"])((function(){return[Ue]})),_:1})]),Object(n["g"])("li",qe,[Object(n["g"])("a",{href:"",class:"nav-link logout-btn",id:"logout_button",onClick:t[1]||(t[1]=function(){return s.logout&&s.logout.apply(s,arguments)})},"Logout")])])])])])}Object(n["w"])(null);var Ve={name:"Navbar",data:function(){return{username:localStorage.getItem("username"),first_name:localStorage.getItem("first_name"),last_name:localStorage.getItem("last_name")}},methods:{logout:function(){se("logout/"),localStorage.removeItem("token"),localStorage.clear(),this.$router.push("/")}}};a("bbeb");Ve.render=Je,Ve.__scopeId="data-v-570b0635";var $e=Ve,ze={name:"Master.vue",components:{Navbar:$e,CheckOnlineOrOffline:me}};a("5726");ze.render=Ae,ze.__scopeId="data-v-5b3622d8";var Re=ze,Qe={class:"create-form-container"},Ye={class:"container"},Ge={class:"card-header bg-white"},He={class:"header d-flex align-items-center"},Ke=Object(n["g"])("img",{src:"https://ludwigpfeiffer.com/wp-content/themes/Ludwig-Pfeiffer_Theme/img/logo.png",alt:"Dushanbe"},null,-1),Xe=Object(n["g"])("h1",{class:""},"Work Submission | Dushanbe",-1),Ze={class:"card-body"},et={class:"form-group"},tt=Object(n["g"])("label",null,"Bill",-1),at=Object(n["g"])("option",{selected:"",disabled:""},"select bill",-1),it={class:"form-group"},nt=Object(n["g"])("label",null,"Type",-1),lt=Object(n["g"])("option",{selected:"",disabled:""},"Select",-1),st={class:"form-group"},ot=Object(n["g"])("label",null,"Material",-1),rt=Object(n["g"])("option",{selected:"",disabled:""},"select material",-1),ct={class:"form-row mt-3"},dt={class:"col-md-4"},bt={class:"form-group mb-lg-0"},ut={class:"col-md-4"},gt={class:"form-group mb-lg-0"},mt={class:"col-md-4"},pt={class:"form-group mb-0"},Ot={class:"form-group"},ft={class:"form-row"},jt={class:"col-md-6"},vt={class:"position-relative form-group mb-lg-0"},_t=Object(n["g"])("label",null,"Date",-1),ht={class:"col-md-6"},yt={class:"position-relative form-group mb-0"},wt=Object(n["g"])("label",null,"Work Progress",-1),kt=Object(n["f"])(),St=Object(n["g"])("br",null,null,-1),xt={class:"btn-container"};function It(e,t,a,i,l,s){var o=Object(n["v"])("router-link");return Object(n["p"])(),Object(n["d"])("div",Qe,[Object(n["g"])("div",Ye,[Object(n["g"])("form",{name:"bill_form",id:"form_reset",class:"form rounded bg-white",onSubmit:t[13]||(t[13]=Object(n["F"])((function(){return s.submitBillSubmissionForm&&s.submitBillSubmissionForm.apply(s,arguments)}),["prevent"]))},[Object(n["g"])("div",Ge,[Object(n["g"])("div",He,[Object(n["g"])(o,{to:{path:"/work-submission-create"}},{default:Object(n["D"])((function(){return[Ke]})),_:1}),Xe])]),Object(n["g"])("div",Ze,[Object(n["g"])("div",et,[tt,Object(n["E"])(Object(n["g"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.bill=e}),onChange:t[2]||(t[2]=function(e){return s.loadType()}),class:["custom-select",{"is-invalid":l.field_validation_data&&l.field_validation_data.bill}]},[at,(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(l.all_bills,(function(e){return Object(n["p"])(),Object(n["d"])("option",{key:e.id,value:e.id},Object(n["y"])(e.bill_name),9,["value"])})),128))],34),[[n["A"],l.bill]]),l.field_validation_data&&l.field_validation_data.bill?(Object(n["p"])(),Object(n["d"])("div",{key:0,class:{"invalid-feedback":l.field_validation_data&&l.field_validation_data.bill}},Object(n["y"])(l.field_validation_data.bill[0]),3)):Object(n["e"])("",!0)]),Object(n["g"])("div",it,[nt,Object(n["E"])(Object(n["g"])("select",{disabled:s.switchTypeField(),"onUpdate:modelValue":t[3]||(t[3]=function(e){return l.type=e}),class:l.field_validation_data&&l.field_validation_data.type?"custom-select is-invalid":"custom-select all-type",onChange:t[4]||(t[4]=function(e){return s.loadMaterial()})},[lt,(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(l.filtered_types_by_bill_id,(function(e){return Object(n["p"])(),Object(n["d"])("option",{key:e.id,value:e.id},Object(n["y"])(e.type_name),9,["value"])})),128))],42,["disabled"]),[[n["A"],l.type]]),l.field_validation_data&&l.field_validation_data.type?(Object(n["p"])(),Object(n["d"])("div",{key:0,class:{"invalid-feedback":l.field_validation_data&&l.field_validation_data.type}},Object(n["y"])(l.field_validation_data.type[0]),3)):Object(n["e"])("",!0)]),Object(n["g"])("div",st,[ot,Object(n["E"])(Object(n["g"])("select",{disabled:s.switchMaterialField(),"onUpdate:modelValue":t[5]||(t[5]=function(e){return l.material=e}),class:l.field_validation_data&&l.field_validation_data.material?"custom-select is-invalid":"custom-select all-material",onChange:t[6]||(t[6]=function(e){return s.loadMaterialData()})},[rt,(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(l.filtered_materials_by_type_id,(function(e){return Object(n["p"])(),Object(n["d"])("option",{key:e.id,value:e.id},Object(n["y"])(e.material_name),9,["value"])})),128)),l.field_validation_data&&l.field_validation_data.material?(Object(n["p"])(),Object(n["d"])("div",{key:0,class:{"invalid-feedback":l.field_validation_data&&l.field_validation_data.material}},Object(n["y"])(l.field_validation_data.material[0]),3)):Object(n["e"])("",!0)],42,["disabled"]),[[n["A"],l.material]]),Object(n["g"])("div",ct,[Object(n["g"])("div",dt,[Object(n["g"])("div",bt,[Object(n["E"])(Object(n["g"])("input",{disabled:"",id:"serial_number","onUpdate:modelValue":t[7]||(t[7]=function(e){return l.serial_no=e}),class:"form-control",placeholder:"Serial Number"},null,512),[[n["B"],l.serial_no]])])]),Object(n["g"])("div",ut,[Object(n["g"])("div",gt,[Object(n["E"])(Object(n["g"])("input",{disabled:"",id:"unit","onUpdate:modelValue":t[8]||(t[8]=function(e){return l.unit=e}),class:"form-control",placeholder:"Unit"},null,512),[[n["B"],l.unit]])])]),Object(n["g"])("div",mt,[Object(n["g"])("div",pt,[Object(n["E"])(Object(n["g"])("input",{disabled:"",id:"quantity","onUpdate:modelValue":t[9]||(t[9]=function(e){return l.quantity=e}),class:"form-control",placeholder:"Quantity"},null,512),[[n["B"],l.quantity]])])])])]),Object(n["g"])("div",Ot,[Object(n["g"])("div",ft,[Object(n["g"])("div",jt,[Object(n["g"])("div",vt,[_t,Object(n["E"])(Object(n["g"])("input",{type:"date",id:"submission_date",class:["form-control",{"is-invalid":l.field_validation_data&&l.field_validation_data.submission_date}],"onUpdate:modelValue":t[10]||(t[10]=function(e){return l.submission_date=e})},null,2),[[n["B"],l.submission_date]]),l.field_validation_data&&l.field_validation_data.submission_date?(Object(n["p"])(),Object(n["d"])("div",{key:0,class:{"invalid-feedback":l.field_validation_data&&l.field_validation_data.submission_date}},Object(n["y"])(l.field_validation_data.submission_date[0]),3)):Object(n["e"])("",!0)])]),Object(n["g"])("div",ht,[Object(n["g"])("div",yt,[wt,kt,St,Object(n["E"])(Object(n["g"])("input",{type:"number",id:"work_progress",class:["form-control",{"is-invalid":l.field_validation_data&&l.field_validation_data.work_progress}],"onUpdate:modelValue":t[11]||(t[11]=function(e){return l.work_progress=e}),placeholder:"0",min:"0",step:".01"},null,2),[[n["B"],l.work_progress]]),l.field_validation_data&&l.field_validation_data.work_progress?(Object(n["p"])(),Object(n["d"])("div",{key:0,class:{"invalid-feedback":l.field_validation_data&&l.field_validation_data.work_progress}},Object(n["y"])(l.field_validation_data.work_progress[0]),3)):Object(n["e"])("",!0)])])])]),Object(n["g"])("div",xt,[Object(n["g"])("button",{onSubmit:t[12]||(t[12]=Object(n["F"])((function(){return s.submitBillSubmissionForm&&s.submitBillSubmissionForm.apply(s,arguments)}),["prevent"])),id:"submit_button",class:" btn btn-primary mt-1",disabled:!!l.isDataSubmit},Object(n["y"])(l.isDataSubmit?"Loading...":"SUBMIT"),41,["disabled"])])])],32)])])}a("4de4");var Bt=a("1157"),Dt=a.n(Bt),Pt={name:"Form",data:function(){return{all_bills:[],all_types:[],all_materials:[],filtered_types_by_bill_id:[],filtered_materials_by_type_id:[],serial_no:null,unit:null,quantity:null,bill:null,type:null,material:null,submission_date:null,work_progress:null,field_validation_data:{bill:null,type:null,material:null,submission_date:null,work_progress:null},isDataSubmit:!1,username:localStorage.getItem("username")}},methods:{getAllData:function(){var e=this;return Object(ie["a"])(regeneratorRuntime.mark((function t(){var a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!localStorage.getItem("bills")){t.next=4;break}e.all_bills=JSON.parse(localStorage.getItem("bills")),t.next=8;break;case 4:return t.next=6,se("bills/");case 6:a=t.sent,a&&localStorage.setItem("bills",JSON.stringify(a));case 8:if(!localStorage.getItem("types")){t.next=12;break}e.all_types=JSON.parse(localStorage.getItem("types")),t.next=16;break;case 12:return t.next=14,se("types/");case 14:i=t.sent,i&&localStorage.setItem("types",JSON.stringify(i));case 16:if(!localStorage.getItem("materials")){t.next=20;break}e.all_materials=JSON.parse(localStorage.getItem("materials")),t.next=24;break;case 20:return t.next=22,se("materials/");case 22:n=t.sent,n&&localStorage.setItem("materials",JSON.stringify(n));case 24:case"end":return t.stop()}}),t)})))()},loadType:function(){var e=this;this.filtered_types_by_bill_id=this.all_types.filter((function(t){return t.bill.id===e.bill}))},loadMaterial:function(){var e=this;this.filtered_materials_by_type_id=this.all_materials.filter((function(t){return t.type.id===e.type}))},loadMaterialData:function(){var e=this,t=this.filtered_materials_by_type_id.filter((function(t){return t.id===e.material})),a=t.length?t[0]:{};this.serial_no=a.serial_no,this.unit=a.unit,this.quantity=a.quantity},todayDate:function(){this.submission_date=(new Date).toISOString().substr(0,10)},submitBillSubmissionForm:function(){var e=this,t=localStorage.getItem("token"),a={headers:{Authorization:"token ".concat(t)}},i={bill:this.bill,type:this.type,material:this.material,submission_date:this.submission_date,work_progress:this.work_progress};this.isDataSubmit=!0,le.a.post("https://dushanbe-backend-apis.herokuapp.com/api/work-submissions/",i,a).then((function(t){e.isDataSubmit=!1,Ie.a.fire({icon:"success",html:'Work Submitted Successfully!<br><br><button  class="btn btn-secondary SwalBtn1 customSwalBtn">Add Another</button><button  class="btn btn-success ml-2 SwalBtn2 customSwalBtn">View Lists</button>',showCancelButton:!1,showConfirmButton:!1}),Dt()(".SwalBtn1").on("click",(function(){window.history.go(),console.log("SwalBtn1")})),Dt()(".SwalBtn2").on("click",(function(){console.log("SwalBtn2"),window.location.assign("work-submission-list")})),console.log(t)})).catch((function(t){e.field_validation_data=t.response.data})),this.bill=null,this.type=null,this.material=null,this.submission_date=null,this.work_progress=null},switchTypeField:function(){this.filtered_types_by_bill_id.length>0?Dt()(".all-type").removeAttr("disabled"):Dt()(".all-type").attr("disabled","")},switchMaterialField:function(){this.filtered_materials_by_type_id.length>0?Dt()(".all-material").removeAttr("disabled"):Dt()(".all-material").attr("disabled","")}},created:function(){this.getAllData(),this.todayDate(),this.switchTypeField(),this.switchMaterialField()}};a("3425");Pt.render=It;var Ft=Pt,Nt={name:"WorkSubmissionCreate",components:{Master:Re,Form:Ft}};a("0b53");Nt.render=Ne;var At=Nt,Lt=a("6c02"),Ct=[{path:"/",name:"Login",component:Fe},{path:"/work-submission-create",name:"WorkSubmissionCreate",component:At},{path:"/work-submission-list",name:"WorkSubmissionList",component:Oe}],Mt=Object(Lt["a"])({history:Object(Lt["b"])("/"),routes:Ct}),Wt=Mt;Object(n["c"])(o).use(Wt).component("fa-icon",i["a"]).mount("#app")},5726:function(e,t,a){"use strict";a("deae")},"59cf":function(e,t,a){"use strict";a("b368")},"9c94":function(e,t,a){},b368:function(e,t,a){},bbeb:function(e,t,a){"use strict";a("bd7c")},bd7c:function(e,t,a){},c698:function(e,t,a){"use strict";a("e57a")},c9ad:function(e,t,a){},d01b:function(e,t,a){},deae:function(e,t,a){},e2c0:function(e,t,a){"use strict";a("d01b")},e57a:function(e,t,a){},fdaf:function(e,t,a){"use strict";a("24e1")}});
//# sourceMappingURL=app.df83b2d3.js.map