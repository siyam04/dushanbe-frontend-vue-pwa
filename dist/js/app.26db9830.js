(function(e){function t(t){for(var i,o,r=t[0],l=t[1],c=t[2],u=0,b=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&b.push(n[o][0]),n[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(b.length)b.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],i=!0,r=1;r<a.length;r++){var l=a[r];0!==n[l]&&(i=!1)}i&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var i={},n={app:0},s=[];function o(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=i,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(a,i,function(t){return e[t]}.bind(null,i));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0b53":function(e,t,a){"use strict";a("c9ad")},"275d":function(e,t,a){},3691:function(e,t,a){"use strict";a("d32c")},"3f30":function(e,t,a){},"51cc":function(e,t,a){"use strict";a("5eeb")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("ad3d"),n=(a("ab8b"),a("3e48"),a("7a23"));function s(e,t,a,i,s,o){var r=Object(n["v"])("router-view");return Object(n["p"])(),Object(n["d"])(r)}var o={name:"App",components:{}};a("e2c0");o.render=s;var r=o,l=a("ecee"),c=a("c074");l["c"].add(c["a"]);var d=a("9483");Object(d["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});a("fb6a");Object(n["w"])("data-v-e4eb3a52");var u={class:"main-header bg-white shadow-sm px-3 py-2"},b={class:"container"},g={class:"header-box bg-white d-flex align-items-center justify-content-between"},m=Object(n["g"])("div",{class:"header d-flex align-items-center"},[Object(n["g"])("img",{src:"https://ludwigpfeiffer.com/wp-content/themes/Ludwig-Pfeiffer_Theme/img/logo.png",alt:"Dushanbe"}),Object(n["g"])("h1",{class:"mb-0"},"Works List")],-1),p={class:"page-title-heading"},f=Object(n["g"])("button",{type:"button",class:"btn btn-primary"},[Object(n["g"])("span",{class:"fas fa-plus-circle mr-1"}),Object(n["f"])(" Add Work ")],-1),O={class:"container mb-4"},_={key:0,class:"loading-container"},j=Object(n["g"])("div",{class:"d-flex align-items-center"},[Object(n["g"])("div",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),Object(n["g"])("h6",{class:"ml-2 mb-0"},"Loading...")],-1),v={class:"accordion mt-4",id:"accordionExample"},h={class:"mb-0"},w={key:0},k={class:"card-body border-top"},y={class:"outer-box type-and-user"},S={class:"inner-box"},x=Object(n["g"])("small",null,"Serial No",-1),I={key:0},L={class:"inner-box"},D=Object(n["g"])("small",null,"Unit",-1),B={key:0,class:"text"},P={class:"inner-box"},N=Object(n["g"])("small",null,"Quantity",-1),E={key:0},M={class:"inner-box"},W=Object(n["g"])("small",null,"Work Progress",-1),C={class:"inner-box"},F=Object(n["g"])("small",null,"Submitted By",-1),A={class:"inner-box"},J=Object(n["g"])("small",null,"Type",-1),T={key:0},q=Object(n["g"])("div",{class:"dropdown-divider mt-3"},null,-1),U={class:"outer-box"},V=Object(n["g"])("h5",null,"Material",-1),R={key:0,class:"mb-0"},$={key:1,class:"pagination d-flex justify-content-between my-3"},z={class:""},Q={class:"mb-0"},Y={class:"lists-group d-flex mb-0"};function G(e,t,a,i,s,o){var r=Object(n["v"])("router-link"),l=Object(n["v"])("CheckOnlineOrOffline");return Object(n["p"])(),Object(n["d"])(n["a"],null,[Object(n["g"])("div",u,[Object(n["g"])("div",b,[Object(n["g"])("div",g,[m,Object(n["g"])("div",p,[Object(n["g"])(r,{to:{name:"WorkSubmissionCreate"}},{default:Object(n["D"])((function(){return[f]})),_:1})])])])]),Object(n["g"])(l,{class:"mb-4"}),Object(n["g"])("div",O,[s.isLoading?(Object(n["p"])(),Object(n["d"])("div",_,[j])):Object(n["e"])("",!0),Object(n["g"])("div",v,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(s.all_work_submissions.slice(),(function(e,t){return Object(n["p"])(),Object(n["d"])("div",{class:"card",key:e.id},[Object(n["g"])("div",{class:"card-header",id:"heading_"+e.id},[Object(n["g"])("h2",h,[Object(n["g"])("button",{class:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapse_"+e.id,"aria-expanded":t<1,"aria-controls":"collapse_"+e.id},[e.bill?(Object(n["p"])(),Object(n["d"])("span",w,Object(n["y"])(e.bill.bill_name),1)):Object(n["e"])("",!0),Object(n["g"])("span",null,Object(n["y"])(e.submission_date),1)],8,["data-target","aria-expanded","aria-controls"])])],8,["id"]),Object(n["g"])("div",{id:"collapse_"+e.id,class:t<1?"collapse show":"collapse","aria-labelledby":"heading_"+e.id,"data-parent":"#accordionExample"},[Object(n["g"])("div",k,[Object(n["g"])("div",y,[Object(n["g"])("div",S,[x,e.material?(Object(n["p"])(),Object(n["d"])("h5",I,Object(n["y"])(e.material.serial_no),1)):Object(n["e"])("",!0)]),Object(n["g"])("div",L,[D,e.material?(Object(n["p"])(),Object(n["d"])("h5",B,Object(n["y"])(e.material.unit),1)):Object(n["e"])("",!0)]),Object(n["g"])("div",P,[N,e.material?(Object(n["p"])(),Object(n["d"])("h5",E,Object(n["y"])(e.material.quantity),1)):Object(n["e"])("",!0)]),Object(n["g"])("div",M,[W,Object(n["g"])("h5",null,Object(n["y"])(e.work_progress),1)]),Object(n["g"])("div",C,[F,Object(n["g"])("h5",null,Object(n["y"])(e.created_by.username),1)]),Object(n["g"])("div",A,[J,e.type?(Object(n["p"])(),Object(n["d"])("h5",T,Object(n["y"])(e.type.type_name),1)):Object(n["e"])("",!0)])]),q,Object(n["g"])("div",U,[V,e.material?(Object(n["p"])(),Object(n["d"])("p",R,Object(n["y"])(e.material.material_name),1)):Object(n["e"])("",!0)])])],10,["id","aria-labelledby"])])})),128))]),s.pagination.count?(Object(n["p"])(),Object(n["d"])("div",$,[Object(n["g"])("div",z,[Object(n["g"])("p",Q," Showing "+Object(n["y"])(s.pagination.showing)+" of "+Object(n["y"])(s.pagination.count),1)]),Object(n["g"])("ul",Y,[Object(n["g"])("li",{class:[{disabled:!s.pagination.previous},"page-item"]},[Object(n["g"])("a",{href:"#",class:"btn",onClick:t[1]||(t[1]=function(e){return o.setPage(s.pagination.previous)})},"Previous")],2),Object(n["g"])("li",{class:[{disabled:!s.pagination.next},"page-item"]},[Object(n["g"])("a",{href:"#",class:"btn",onClick:t[2]||(t[2]=function(e){return o.setPage(s.pagination.next)})},"Next")],2)])])):Object(n["e"])("",!0)])],64)}Object(n["w"])(null);var H=a("1da1"),K=(a("96cf"),a("bc3a")),X=a.n(K),Z=(a("d3b7"),function(e){return new Promise((function(t){var a={headers:{}},i=localStorage.getItem("token");i&&(a.headers["Authorization"]="token "+i);var n="https://dushanbe.apis.lp-report.com/api/";X.a.get(n+e,{headers:{Authorization:"token ".concat(i)}}).then((function(e){t(e.data)})).catch((function(e){console.log(e),t(!1)}))}))}),ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(a){var i={headers:{}},n=localStorage.getItem("token");n&&(i.headers["Authorization"]="token ".concat(n));var s="https://dushanbe.apis.lp-report.com/api/";X.a.post(s+e,t,i).then((function(e){a(e.data)})).catch((function(e){console.log(e),a(!1)}))}))},te={class:"onlineStatus"},ae={key:0},ie=Object(n["g"])("div",{class:"alert alert-success text-small",role:"alert"},[Object(n["f"])(" You are in "),Object(n["g"])("strong",null,"Online"),Object(n["f"])(". ")],-1),ne={key:1},se=Object(n["g"])("div",{class:"alert alert-danger",role:"alert"},[Object(n["f"])(" You are in "),Object(n["g"])("a",{href:"#",class:"alert-link"},"Offline"),Object(n["f"])(". ")],-1);function oe(e,t,a,i,s,o){return Object(n["p"])(),Object(n["d"])("div",te,[s.isOnline?(Object(n["p"])(),Object(n["d"])("div",ae,[ie])):(Object(n["p"])(),Object(n["d"])("div",ne,[se]))])}var re={name:"CheckOnlineOrOffline",data:function(){return{isOnline:!1}},methods:{},created:function(){var e=this;window.navigator.onLine&&(this.isOnline=!0),window.addEventListener("online",(function(){e.isOnline=!0})),window.addEventListener("offline",(function(){e.isOnline=!1}))}};a("fdb0");re.render=oe;var le=re,ce={components:{CheckOnlineOrOffline:le},name:"WorkSubmissionList",data:function(){return{all_work_submissions:[],url:"https://dushanbe.apis.lp-report.com/api/work-submissions/",currentPage:1,isLoading:!0,isOnline:!1,pagination:{count:null,next:null,previous:null,showing:0,page:null}}},methods:{loadSubmittedData:function(){if(!0===!window.navigator.onLine){var e=localStorage.getItem("work_submissions");this.all_work_submissions=JSON.parse(e),this.isLoading=!1}else this.loadWorkSubmission()},loadWorkSubmission:function(){var e=this;if(!this.isOnline)return localStorage.getItem("work_submissions")&&(this.all_work_submissions=JSON.parse(localStorage.getItem("work_submissions"))),this.isLoading=!1,!0;var t=localStorage.getItem("token"),a=parseInt(localStorage.getItem("id")),i={page:this.$route.query.page};X.a.get(this.url,{headers:{Authorization:"token ".concat(t)},params:{user_id:a,page:this.$route.query.page,queryParam:i}}).then((function(t){e.all_work_submissions=t.data.results,localStorage.setItem("work_submissions",JSON.stringify(e.all_work_submissions)),e.isLoading=!1,e.pagination.count=t.data.count,e.pagination.next=t.data.next,e.pagination.previous=t.data.previous,e.pagination.showing=t.data.results.length})).catch((function(e){console.log(e)}))},setPage:function(e){this.pagination.page=e,this.searchWork()},searchWork:function(){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$router.push({path:"work-submission-list",query:{page:e.pagination.page}});case 2:e.loadWorkSubmission(),e.loadSubmittedData();case 4:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;window.navigator.onLine&&(this.isOnline=!0),window.addEventListener("online",(function(){e.isOnline=!0})),window.addEventListener("offline",(function(){e.isOnline=!1})),this.loadWorkSubmission()}};a("5984");ce.render=G,ce.__scopeId="data-v-e4eb3a52";var de=ce;function ue(e,t,a,i,s,o){var r=Object(n["v"])("Form");return Object(n["p"])(),Object(n["d"])("div",null,[Object(n["g"])(r)])}Object(n["w"])("data-v-2a9c4f79");var be={class:"loginContainer"},ge={class:"container"},me={class:"form-container"},pe=Object(n["g"])("div",{class:"logo-container mb-4 d-flex align-items-center"},[Object(n["g"])("img",{src:"https://ludwigpfeiffer.com/wp-content/themes/Ludwig-Pfeiffer_Theme/img/logo.png",alt:"Dushanbe"}),Object(n["g"])("div",null,[Object(n["g"])("h3",{class:"login-header-text"},"Login | DUSHANBE"),Object(n["g"])("p",{class:"formDescription mb-0"},"www.ludwigpfeiffer.com")])],-1),fe={class:"formInput"},Oe={class:"form-group"},_e={class:"form-group"};function je(e,t,a,i,s,o){return Object(n["p"])(),Object(n["d"])("div",null,[Object(n["g"])("div",be,[Object(n["g"])("div",ge,[Object(n["g"])("div",me,[pe,Object(n["g"])("div",fe,[Object(n["g"])("form",{style:{"max-width":"500px",margin:"auto"},action:"#",onSubmit:t[4]||(t[4]=Object(n["F"])((function(){return o.loginSubmit&&o.loginSubmit.apply(o,arguments)}),["prevent"]))},[Object(n["g"])("div",Oe,[Object(n["E"])(Object(n["g"])("input",{class:["form-control",{"is-invalid":s.login_validation_data&&s.login_validation_data.username}],type:"email",placeholder:"Email",name:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.username=e})},null,2),[[n["B"],s.username]]),s.login_validation_data&&s.login_validation_data.username?(Object(n["p"])(),Object(n["d"])("div",{key:0,class:{"invalid-feedback":s.login_validation_data&&s.login_validation_data.username}},Object(n["y"])(s.login_validation_data.username[0]),3)):Object(n["e"])("",!0)]),Object(n["g"])("div",_e,[Object(n["E"])(Object(n["g"])("input",{class:["form-control",{"is-invalid":s.login_validation_data&&s.login_validation_data.password}],type:"password",placeholder:"Password",name:"psw","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.password=e})},null,2),[[n["B"],s.password]]),s.login_validation_data&&s.login_validation_data.password?(Object(n["p"])(),Object(n["d"])("div",{key:0,class:{"invalid-feedback":s.login_validation_data&&s.login_validation_data.password}},Object(n["y"])(s.login_validation_data.password[0]),3)):Object(n["e"])("",!0)]),Object(n["g"])("button",{onSubmit:t[3]||(t[3]=Object(n["F"])((function(){return o.loginSubmit&&o.loginSubmit.apply(o,arguments)}),["prevent"])),type:"submit",class:" btn btn-primary mt-1",disabled:!!s.isDataSubmit},Object(n["y"])(s.isDataSubmit?"Loading...":"LOGIN"),41,["disabled"])],32)])])])])])}Object(n["w"])(null);var ve=a("3d20"),he=a.n(ve),we={name:"Form",data:function(){return{username:null,password:null,login_validation_data:{username:null,password:null},isDataSubmit:!1}},methods:{loginSubmit:function(){var e=this;this.isDataSubmit=!0,X.a.post("https://dushanbe.apis.lp-report.com/api/login/",{username:this.username,password:this.password}).then((function(t){localStorage.setItem("id",t.data.id),localStorage.setItem("username",t.data.username),localStorage.setItem("first_name",t.data.first_name),localStorage.setItem("last_name",t.data.last_name),localStorage.setItem("active_status",t.data.active_status),localStorage.setItem("superuser_status",t.data.superuser_status),localStorage.setItem("token",t.data.token),localStorage.setItem("groups",JSON.stringify(t.data.groups)),localStorage.setItem("user_permissions",JSON.stringify(t.data.user_permissions)),e.isDataSubmit=!1,e.$router.push("work-submission-create")})).catch((function(t){return e.login_validation_data=t.response.data,e.isDataSubmit=!1,ve["fire"]({icon:"error",text:"Provided Credentials Are Not Correct! Please Try Again..."}),t.status(400).json({error:t})}))}}};a("b0e2");we.render=je,we.__scopeId="data-v-2a9c4f79";var ke=we,ye={name:"Login",components:{Form:ke}};ye.render=ue;var Se=ye;function xe(e,t,a,i,s,o){var r=Object(n["v"])("Form"),l=Object(n["v"])("Master");return Object(n["p"])(),Object(n["d"])("div",null,[Object(n["g"])(l,null,{contents:Object(n["D"])((function(){return[Object(n["g"])(r)]})),_:1})])}function Ie(e,t,a,i,s,o){var r=Object(n["v"])("Navbar"),l=Object(n["v"])("CheckOnlineOrOffline");return Object(n["p"])(),Object(n["d"])("div",null,[Object(n["g"])(r),Object(n["g"])(l),Object(n["u"])(e.$slots,"contents")])}Object(n["w"])("data-v-3bb727fd");var Le={class:"navbar navbar-expand-lg bg-white shadow-sm"},De={class:"container my-0"},Be={class:"main-container d-flex justify-content-between align-items-center"},Pe={class:"navbar-brand text-dark",href:"#"},Ne={class:"navbar-nav flex-row"},Ee={class:"nav-item"},Me=Object(n["f"])("View "),We={class:"nav-item"};function Ce(e,t,a,i,s,o){var r=Object(n["v"])("fa-icon"),l=Object(n["v"])("router-link");return Object(n["p"])(),Object(n["d"])("nav",Le,[Object(n["g"])("div",De,[Object(n["g"])("div",Be,[Object(n["g"])("a",Pe,[Object(n["g"])(r,{icon:"user"}),Object(n["f"])(" "+Object(n["y"])(s.username),1)]),Object(n["g"])("ul",Ne,[Object(n["g"])("li",Ee,[Object(n["g"])(l,{class:"nav-link",id:"work_details_button",to:{name:"WorkSubmissionList"}},{default:Object(n["D"])((function(){return[Me]})),_:1})]),Object(n["g"])("li",We,[Object(n["g"])("a",{href:"",class:"nav-link logout-btn",id:"logout_button",onClick:t[1]||(t[1]=function(){return o.logout&&o.logout.apply(o,arguments)})},"Logout")])])])])])}Object(n["w"])(null);var Fe={name:"Navbar",data:function(){return{username:localStorage.getItem("username"),first_name:localStorage.getItem("first_name"),last_name:localStorage.getItem("last_name")}},methods:{logout:function(){Z("logout/"),localStorage.removeItem("token"),localStorage.clear(),this.$router.push("/")}}};a("3691");Fe.render=Ce,Fe.__scopeId="data-v-3bb727fd";var Ae=Fe,Je={name:"Master.vue",components:{Navbar:Ae,CheckOnlineOrOffline:le}};a("5726");Je.render=Ie,Je.__scopeId="data-v-5b3622d8";var Te=Je,qe={class:"create-form-container"},Ue={class:"container"},Ve={class:"card-header bg-white"},Re={class:"header d-flex align-items-center"},$e=Object(n["g"])("img",{alt:"Dushanbe",src:"https://ludwigpfeiffer.com/wp-content/themes/Ludwig-Pfeiffer_Theme/img/logo.png"},null,-1),ze=Object(n["g"])("h1",{class:""},"Work Submission | Dushanbe",-1),Qe={class:"card-body"},Ye={class:"form-group"},Ge=Object(n["g"])("label",null,"Bill",-1),He=Object(n["g"])("option",{disabled:"",selected:""},"select bill",-1),Ke={class:"form-group"},Xe=Object(n["g"])("label",null,"Type",-1),Ze=Object(n["g"])("option",{disabled:"",selected:""},"Select",-1),et={class:"form-group"},tt=Object(n["g"])("label",null,"Material",-1),at=Object(n["g"])("option",{disabled:"",selected:""},"select material",-1),it={class:"form-row mt-3"},nt={class:"col-md-4"},st={class:"form-group mb-lg-0"},ot={class:"col-md-4"},rt={class:"form-group mb-lg-0"},lt={class:"col-md-4"},ct={class:"form-group mb-0"},dt={class:"form-group"},ut={class:"form-row"},bt={class:"col-md-6"},gt={class:"position-relative form-group mb-lg-0"},mt=Object(n["g"])("label",null,"Date",-1),pt={class:"col-md-6"},ft={class:"position-relative form-group mb-0"},Ot=Object(n["g"])("label",null,"Work Progress",-1),_t=Object(n["f"])(),jt=Object(n["g"])("br",null,null,-1),vt={class:"btn-container"};function ht(e,t,a,i,s,o){var r=Object(n["v"])("router-link");return Object(n["p"])(),Object(n["d"])("div",qe,[Object(n["g"])("div",Ue,[Object(n["g"])("form",{onSubmit:t[11]||(t[11]=Object(n["F"])((function(){return o.submitBillSubmissionForm&&o.submitBillSubmissionForm.apply(o,arguments)}),["prevent"])),class:"form rounded bg-white",id:"form_reset",name:"bill_form"},[Object(n["g"])("div",Ve,[Object(n["g"])("div",Re,[Object(n["g"])(r,{to:{path:"/work-submission-create"}},{default:Object(n["D"])((function(){return[$e]})),_:1}),ze])]),Object(n["g"])("div",Qe,[Object(n["g"])("div",Ye,[Ge,Object(n["E"])(Object(n["g"])("select",{class:[{"is-invalid":s.field_validation_data&&s.field_validation_data.bill},"custom-select"],"onUpdate:modelValue":t[1]||(t[1]=function(e){return s.work_data.bill_id=e})},[He,(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(s.all_bills,(function(e){return Object(n["p"])(),Object(n["d"])("option",{key:e.id,value:e.id},Object(n["y"])(e.bill_name.substr(0,50)+"..."),9,["value"])})),128))],2),[[n["A"],s.work_data.bill_id]]),s.field_validation_data&&s.field_validation_data.bill?(Object(n["p"])(),Object(n["d"])("div",{key:0,class:{"invalid-feedback":s.field_validation_data&&s.field_validation_data.bill}},Object(n["y"])(s.isOnline?s.field_validation_data.bill[0]:s.field_validation_data.Bill),3)):Object(n["e"])("",!0)]),Object(n["g"])("div",Ke,[Xe,Object(n["E"])(Object(n["g"])("select",{class:s.field_validation_data&&s.field_validation_data.type?"custom-select is-invalid":"custom-select all-type",disabled:!o.billTypes.length,"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.work_data.type_id=e})},[Ze,(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(o.billTypes,(function(e){return Object(n["p"])(),Object(n["d"])("option",{key:e.id,value:e.id},Object(n["y"])(e.type_name.substr(0,50)+"..."),9,["value"])})),128))],10,["disabled"]),[[n["A"],s.work_data.type_id]]),s.field_validation_data&&s.field_validation_data.type?(Object(n["p"])(),Object(n["d"])("div",{key:0,class:{"invalid-feedback":s.field_validation_data&&s.field_validation_data.type}},Object(n["y"])(s.isOnline?s.field_validation_data.type[0]:s.field_validation_data.Type),3)):Object(n["e"])("",!0)]),Object(n["g"])("div",et,[tt,Object(n["E"])(Object(n["g"])("select",{class:s.field_validation_data&&s.field_validation_data.material?"custom-select is-invalid":"custom-select all-material",disabled:!o.typeMaterials.length,onChange:t[3]||(t[3]=function(e){return o.setMaterialData()}),"onUpdate:modelValue":t[4]||(t[4]=function(e){return s.work_data.material_id=e})},[at,(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(o.typeMaterials,(function(e){return Object(n["p"])(),Object(n["d"])("option",{key:e.id,value:e.id},Object(n["y"])(e.material_name.substr(0,50)+"..."),9,["value"])})),128)),s.field_validation_data&&s.field_validation_data.material?(Object(n["p"])(),Object(n["d"])("div",{key:0,class:{"invalid-feedback":s.field_validation_data&&s.field_validation_data.material}},Object(n["y"])(s.isOnline?s.field_validation_data.material[0]:s.field_validation_data.material),3)):Object(n["e"])("",!0)],42,["disabled"]),[[n["A"],s.work_data.material_id]]),Object(n["g"])("div",it,[Object(n["g"])("div",nt,[Object(n["g"])("div",st,[Object(n["E"])(Object(n["g"])("input",{class:"form-control",disabled:"",id:"serial_number",placeholder:"Serial Number","onUpdate:modelValue":t[5]||(t[5]=function(e){return s.work_data.serial_no=e})},null,512),[[n["B"],s.work_data.serial_no]])])]),Object(n["g"])("div",ot,[Object(n["g"])("div",rt,[Object(n["E"])(Object(n["g"])("input",{class:"form-control",disabled:"",id:"unit",placeholder:"Unit","onUpdate:modelValue":t[6]||(t[6]=function(e){return s.work_data.unit=e})},null,512),[[n["B"],s.work_data.unit]])])]),Object(n["g"])("div",lt,[Object(n["g"])("div",ct,[Object(n["E"])(Object(n["g"])("input",{class:"form-control",disabled:"",id:"quantity",placeholder:"Quantity","onUpdate:modelValue":t[7]||(t[7]=function(e){return s.work_data.quantity=e})},null,512),[[n["B"],s.work_data.quantity]])])])])]),Object(n["g"])("div",dt,[Object(n["g"])("div",ut,[Object(n["g"])("div",bt,[Object(n["g"])("div",gt,[mt,Object(n["E"])(Object(n["g"])("input",{class:[{"is-invalid":s.field_validation_data&&s.field_validation_data.submission_date},"form-control"],id:"submission_date",type:"date","onUpdate:modelValue":t[8]||(t[8]=function(e){return s.work_data.submission_date=e})},null,2),[[n["B"],s.work_data.submission_date]]),s.field_validation_data&&s.field_validation_data.submission_date?(Object(n["p"])(),Object(n["d"])("div",{key:0,class:{"invalid-feedback":s.field_validation_data&&s.field_validation_data.submission_date}},Object(n["y"])(s.isOnline?s.field_validation_data.submission_date[0]:s.field_validation_data.submission_date),3)):Object(n["e"])("",!0)])]),Object(n["g"])("div",pt,[Object(n["g"])("div",ft,[Ot,_t,jt,Object(n["E"])(Object(n["g"])("input",{class:[{"is-invalid":s.field_validation_data&&s.field_validation_data.work_progress},"form-control"],id:"work_progress",placeholder:"0",type:"text",min:"0",step:".01","onUpdate:modelValue":t[9]||(t[9]=function(e){return s.work_data.work_progress=e}),maxlength:"6"},null,2),[[n["B"],s.work_data.work_progress]]),s.field_validation_data&&s.field_validation_data.work_progress?(Object(n["p"])(),Object(n["d"])("div",{key:0,class:{"invalid-feedback":s.field_validation_data&&s.field_validation_data.work_progress}},Object(n["y"])(s.isOnline?s.field_validation_data.work_progress[0]:s.field_validation_data.work_progress),3)):Object(n["e"])("",!0)])])])]),Object(n["g"])("div",vt,[Object(n["g"])("button",{disabled:!!s.isDataSubmit,onSubmit:t[10]||(t[10]=Object(n["F"])((function(){return o.submitBillSubmissionForm&&o.submitBillSubmissionForm.apply(o,arguments)}),["prevent"])),class:" btn btn-primary mt-1",id:"submit_button"},Object(n["y"])(s.isDataSubmit?"Loading...":"SUBMIT"),41,["disabled"])])])],32)])])}a("4de4");var wt=a("1157"),kt=a.n(wt),yt={name:"Form",data:function(){return{all_bills:[],all_types:[],materials:[],work_submissions:[],filter_bill:[],filtered_types_by_bill_id:[],filtered_materials_by_type_id:[],serial_no:null,unit:null,quantity:null,bill:null,type:null,material:null,work_progress:null,field_validation_data:{bill:"",type:"",material:"",submission_date:"",work_progress:""},test1:"",isDataSubmit:!1,isOnline:window.navigator.onLine,username:localStorage.getItem("username"),work_data:{submission_date:(new Date).toISOString().substr(0,10)}}},computed:{billTypes:function(){var e=this;return this.all_types.filter((function(t){return e.work_data.bill_id==t.bill.id}))},typeMaterials:function(){var e=this;return this.materials.filter((function(t){return e.work_data.type_id==t.type.id}))}},methods:{getBills:function(){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!localStorage.getItem("bills")){t.next=4;break}e.all_bills=JSON.parse(localStorage.getItem("bills")),t.next=8;break;case 4:return t.next=6,Z("bills/");case 6:e.all_bills=t.sent,e.all_bills&&localStorage.setItem("bills",JSON.stringify(e.all_bills));case 8:case"end":return t.stop()}}),t)})))()},getTypes:function(){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!localStorage.getItem("types")){t.next=4;break}e.all_types=JSON.parse(localStorage.getItem("types")),t.next=8;break;case 4:return t.next=6,Z("types/");case 6:e.all_types=t.sent,e.all_types&&localStorage.setItem("types",JSON.stringify(e.all_types));case 8:case"end":return t.stop()}}),t)})))()},getMaterials:function(){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!localStorage.getItem("materials")){t.next=4;break}e.materials=JSON.parse(localStorage.getItem("materials")),t.next=8;break;case 4:return t.next=6,Z("materials/");case 6:e.materials=t.sent,e.materials&&localStorage.setItem("materials",JSON.stringify(e.materials));case 8:case"end":return t.stop()}}),t)})))()},setMaterialData:function(){var e=this,t=this.materials.filter((function(t){return t.id===e.work_data.material_id})),a=t.length?t[0]:{};this.work_data.serial_no=a.serial_no,this.work_data.unit=a.unit,this.work_data.quantity=a.quantity},setSubmittedListItem:function(){var e=this,t=this.all_bills.filter((function(t){return t.id===e.work_data.bill_id}))[0],a=this.all_types.filter((function(t){return t.id===e.work_data.type_id}))[0],i=this.materials.filter((function(t){return t.id===e.work_data.material_id}))[0],n={bill:t,type:a,material:i,submission_date:this.work_data.submission_date,work_progress:this.work_data.work_progress,created_by:{id:localStorage.getItem("id"),username:localStorage.getItem("username"),first_name:localStorage.getItem("first_name"),last_name:localStorage.getItem("last_name"),is_superuser:localStorage.getItem("superuser_status")},active_status:localStorage.getItem("active_status")},s=[];localStorage.getItem("work_submissions")&&(s=JSON.parse(localStorage.getItem("work_submissions"))),s.unshift(n),localStorage.setItem("work_submissions",JSON.stringify(s))},validateRequest:function(){return!!(this.work_data.bill_id&&this.work_data.type_id&&this.work_data.material_id&&this.work_data.work_progress)||(he.a.fire({icon:"error",title:"OOPS!",text:"Please Select Valid Data..."}),!1)},submitBillSubmissionForm:function(){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.validateRequest()){t.next=2;break}return t.abrupt("return",!1);case 2:return a={bill:e.work_data.bill_id,type:e.work_data.type_id,material:e.work_data.material_id,submission_date:e.work_data.submission_date,work_progress:e.work_data.work_progress},e.isDataSubmit=!0,t.next=6,ee("work-submissions/",a);case 6:i=t.sent,i?(e.isDataSubmit=!1,e.fireSuccessMessage(!0)):(e.isDataSubmit=!1,window.navigator.onLine?alert("Error Found!"):(e.setSubmittedListItem(),e.fireSuccessMessage(!1))),e.work_data={submission_date:(new Date).toISOString().substr(0,10)};case 9:case"end":return t.stop()}}),t)})))()},fireSuccessMessage:function(e){var t=this,a=e?"Work Submitted Successfully!":"Work Submitted Successfully & Processing in the Background...";he.a.fire({icon:"success",html:"".concat(a,'\n                    <br><br>\n                    <div class="swal-btn-cotnainer"> <button  class="btn btn-secondary SwalBtn1 customSwalBtn">\n                    Add Again\n                    </button>\n                    <button  class="btn btn-success ml-2 SwalBtn2 customSwalBtn">\n                    View List\n                    </button> </div>'),showCancelButton:!1,showConfirmButton:!1}),kt()(".SwalBtn1").on("click",(function(){he.a.close()})),kt()(".SwalBtn2").on("click",(function(){t.$router.push({path:"/work-submission-list"}),he.a.close()}))}},created:function(){this.getBills(),this.getTypes(),this.getMaterials()}};a("51cc");yt.render=ht;var St=yt,xt={name:"WorkSubmissionCreate",components:{Master:Te,Form:St}};a("0b53");xt.render=xe;var It=xt,Lt=a("6c02"),Dt=[{path:"/",name:"Login",component:Se},{path:"/work-submission-create",name:"WorkSubmissionCreate",component:It},{path:"/work-submission-list",name:"WorkSubmissionList",component:de}],Bt=Object(Lt["a"])({history:Object(Lt["b"])("/"),routes:Dt}),Pt=Bt;Object(n["c"])(r).use(Pt).component("fa-icon",i["a"]).mount("#app")},5726:function(e,t,a){"use strict";a("deae")},5984:function(e,t,a){"use strict";a("275d")},"5eeb":function(e,t,a){},b0e2:function(e,t,a){"use strict";a("bf7d")},bf7d:function(e,t,a){},c9ad:function(e,t,a){},d01b:function(e,t,a){},d32c:function(e,t,a){},deae:function(e,t,a){},e2c0:function(e,t,a){"use strict";a("d01b")},fdb0:function(e,t,a){"use strict";a("3f30")}});
//# sourceMappingURL=app.26db9830.js.map