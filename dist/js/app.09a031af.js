(function(e){function t(t){for(var n,l,o=t[0],s=t[1],c=t[2],u=0,b=[];u<o.length;u++)l=o[u],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&b.push(i[l][0]),i[l]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);d&&d(t);while(b.length)b.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,o=1;o<a.length;o++){var s=a[o];0!==i[s]&&(n=!1)}n&&(r.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},i={app:0},r=[];function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=s;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"10b7":function(e,t,a){"use strict";a("c3ae")},"26f5":function(e,t,a){},2950:function(e,t,a){"use strict";a("9cb9")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23");function i(e,t,a,i,r,l){var o=Object(n["v"])("router-view");return Object(n["p"])(),Object(n["d"])(o)}var r={name:"App",components:{}};a("d2f4");r.render=i;var l=r,o=a("9483");Object(o["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var s=a("6c02");function c(e,t,a,i,r,l){var o=Object(n["v"])("Form");return Object(n["p"])(),Object(n["d"])("div",null,[Object(n["g"])(o)])}Object(n["w"])("data-v-6aa03388");var d={class:"loginContainer"},u={class:"container"},b={class:"form-container"},g=Object(n["g"])("div",{class:"logo-container mb-4 d-flex align-items-center"},[Object(n["g"])("img",{src:"https://ludwigpfeiffer.com/wp-content/themes/Ludwig-Pfeiffer_Theme/img/logo.png",alt:"Dushanbe"}),Object(n["g"])("div",null,[Object(n["g"])("h3",{class:"login-header-text"},"Login | DUSHANBE"),Object(n["g"])("p",{class:"formDescription mb-0"},"www.ludwigpfeiffer.com")])],-1),m={class:"formInput"},p={class:"form-group"},f={class:"form-group"};function O(e,t,a,i,r,l){return Object(n["p"])(),Object(n["d"])("div",null,[Object(n["g"])("div",d,[Object(n["g"])("div",u,[Object(n["g"])("div",b,[g,Object(n["g"])("div",m,[Object(n["g"])("form",{style:{"max-width":"500px",margin:"auto"},action:"#",onSubmit:t[4]||(t[4]=Object(n["F"])((function(){return l.loginSubmit&&l.loginSubmit.apply(l,arguments)}),["prevent"]))},[Object(n["g"])("div",p,[Object(n["E"])(Object(n["g"])("input",{class:["form-control",{"is-invalid":r.login_validation_data&&r.login_validation_data.username}],type:"email",placeholder:"Email",name:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.username=e})},null,2),[[n["B"],r.username]]),r.login_validation_data&&r.login_validation_data.username?(Object(n["p"])(),Object(n["d"])("div",{key:0,class:{"invalid-feedback":r.login_validation_data&&r.login_validation_data.username}},Object(n["y"])(r.login_validation_data.username[0]),3)):Object(n["e"])("",!0)]),Object(n["g"])("div",f,[Object(n["E"])(Object(n["g"])("input",{class:["form-control",{"is-invalid":r.login_validation_data&&r.login_validation_data.password}],type:"password",placeholder:"Password",name:"psw","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.password=e})},null,2),[[n["B"],r.password]]),r.login_validation_data&&r.login_validation_data.password?(Object(n["p"])(),Object(n["d"])("div",{key:0,class:{"invalid-feedback":r.login_validation_data&&r.login_validation_data.password}},Object(n["y"])(r.login_validation_data.password[0]),3)):Object(n["e"])("",!0)]),Object(n["g"])("button",{onSubmit:t[3]||(t[3]=Object(n["F"])((function(){return l.loginSubmit&&l.loginSubmit.apply(l,arguments)}),["prevent"])),type:"submit",class:"btn"}," LOGIN ",32)],32)])])])])])}Object(n["w"])(null);var j=a("bc3a"),v=a.n(j),_=a("3d20"),h=a.n(_),y={name:"Form",data:function(){return{username:null,password:null,login_validation_data:{username:null,password:null}}},methods:{loginSubmit:function(){var e=this;v.a.post("https://dushanbe-backend-apis.herokuapp.com/api/login/",{username:this.username,password:this.password}).then((function(t){localStorage.setItem("id",t.data.id),localStorage.setItem("username",t.data.username),localStorage.setItem("first_name",t.data.first_name),localStorage.setItem("last_name",t.data.last_name),localStorage.setItem("active_status",t.data.active_status),localStorage.setItem("superuser_status",t.data.superuser_status),localStorage.setItem("token",t.data.token),localStorage.setItem("groups",JSON.stringify(t.data.groups)),localStorage.setItem("user_permissions",JSON.stringify(t.data.user_permissions)),e.$router.push("work-submission-create")})).catch((function(t){return e.login_validation_data=t.response.data,_["fire"]({icon:"error",text:"Provided Credentials Are Not Correct! Please Try Again..."}),t.status(400).json({error:t})}))}}};a("80b9");y.render=O,y.__scopeId="data-v-6aa03388";var w=y,k={name:"Login",components:{Form:w}};k.render=c;var S=k;function x(e,t,a,i,r,l){var o=Object(n["v"])("Form"),s=Object(n["v"])("Master");return Object(n["p"])(),Object(n["d"])("div",null,[Object(n["g"])(s,null,{contents:Object(n["D"])((function(){return[Object(n["g"])(o)]})),_:1})])}function P(e,t,a,i,r,l){var o=Object(n["v"])("Navbar");return Object(n["p"])(),Object(n["d"])("div",null,[Object(n["g"])(o),Object(n["u"])(e.$slots,"contents")])}var I={class:"navbar navbar-expand-lg bg-white shadow-sm"},F={class:"container my-0"},B={class:"main-container  d-flex align-items-center"},D={class:"navbar-brand text-dark",href:"#"},A=Object(n["g"])("i",{class:"fas fa-user-circle"},null,-1),N={class:"navbar-nav ml-auto"},E={class:"nav-item"},M=Object(n["f"])("View"),T={class:"nav-item"};function U(e,t,a,i,r,l){var o=Object(n["v"])("router-link");return Object(n["p"])(),Object(n["d"])("nav",I,[Object(n["g"])("div",F,[Object(n["g"])("div",B,[Object(n["g"])("a",D,[A,Object(n["f"])(" "+Object(n["y"])(r.username),1)]),Object(n["g"])("ul",N,[Object(n["g"])("li",E,[Object(n["g"])(o,{class:"nav-link",id:"work_details_button",to:{name:"WorkSubmissionList"}},{default:Object(n["D"])((function(){return[M]})),_:1})]),Object(n["g"])("li",T,[Object(n["g"])("a",{href:"",class:"nav-link logout-btn",id:"logout_button",onClick:t[1]||(t[1]=function(){return l.logout&&l.logout.apply(l,arguments)})},"Logout")])])])])])}var L={name:"Navbar",data:function(){return{username:localStorage.getItem("username"),first_name:localStorage.getItem("first_name"),last_name:localStorage.getItem("last_name")}},methods:{logout:function(){var e=localStorage.getItem("token");v.a.get("https://dushanbe-backend-apis.herokuapp.com/api/work-submissions/logout/",{headers:{Authorization:"token ".concat(e)}}).then((function(e){console.log(e.data)})).catch((function(e){console.error(e)})),localStorage.removeItem("token"),localStorage.clear(),this.$router.push("/")}}};L.render=U;var W=L,q={name:"Master.vue",components:{Navbar:W}};a("f2bc");q.render=P,q.__scopeId="data-v-5f901870";var C=q,R={class:"create-form-container"},V={class:"container"},J={class:"card-header bg-white"},z={class:"header d-flex align-items-center"},$=Object(n["g"])("img",{src:"https://ludwigpfeiffer.com/wp-content/themes/Ludwig-Pfeiffer_Theme/img/logo.png",alt:"Dushanbe"},null,-1),Q=Object(n["g"])("h1",{class:""},"Work Submission | Dushanbe",-1),Y={class:"card-body"},G={class:"form-group"},H=Object(n["g"])("label",null,"Bill",-1),K=Object(n["g"])("option",{selected:"",disabled:""},"select bill",-1),X={class:"form-group"},Z=Object(n["g"])("label",null,"Type",-1),ee=Object(n["g"])("option",{selected:"",disabled:""},"Select",-1),te={class:"form-group"},ae=Object(n["g"])("label",null,"Material",-1),ne=Object(n["g"])("option",{selected:"",disabled:""},"select material",-1),ie={class:"form-row mt-3"},re={class:"col-md-4"},le={class:"form-group mb-lg-0"},oe={class:"col-md-4"},se={class:"form-group mb-lg-0"},ce={class:"col-md-4"},de={class:"form-group mb-0"},ue={class:"form-group"},be={class:"form-row"},ge={class:"col-md-6"},me={class:"position-relative form-group mb-lg-0"},pe=Object(n["g"])("label",null,"Date",-1),fe={class:"col-md-6"},Oe={class:"position-relative form-group mb-0"},je=Object(n["g"])("label",null,"Work Progress",-1),ve=Object(n["f"])(),_e=Object(n["g"])("br",null,null,-1),he={class:"btn-container"};function ye(e,t,a,i,r,l){var o=Object(n["v"])("router-link");return Object(n["p"])(),Object(n["d"])("div",R,[Object(n["g"])("div",V,[Object(n["g"])("form",{name:"bill_form",class:"form rounded bg-white",onSubmit:t[13]||(t[13]=Object(n["F"])((function(){return l.submitBillSubmissionForm&&l.submitBillSubmissionForm.apply(l,arguments)}),["prevent"]))},[Object(n["g"])("div",J,[Object(n["g"])("div",z,[Object(n["g"])(o,{to:{path:"/work-submission-create"}},{default:Object(n["D"])((function(){return[$]})),_:1}),Q])]),Object(n["g"])("div",Y,[Object(n["g"])("div",G,[H,Object(n["E"])(Object(n["g"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.bill=e}),onChange:t[2]||(t[2]=function(e){return l.loadType()}),class:["custom-select",{"is-invalid":r.field_validation_data&&r.field_validation_data.bill}]},[K,(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(r.all_bills,(function(e){return Object(n["p"])(),Object(n["d"])("option",{key:e.id,value:e.id},Object(n["y"])(e.short_bill_name),9,["value"])})),128))],34),[[n["A"],r.bill]]),r.field_validation_data&&r.field_validation_data.bill?(Object(n["p"])(),Object(n["d"])("div",{key:0,class:{"invalid-feedback":r.field_validation_data&&r.field_validation_data.bill}},Object(n["y"])(r.field_validation_data.bill[0]),3)):Object(n["e"])("",!0)]),Object(n["g"])("div",X,[Z,Object(n["E"])(Object(n["g"])("select",{disabled:l.switchTypeField(),"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.type=e}),class:r.field_validation_data&&r.field_validation_data.type?"custom-select is-invalid":"custom-select all-type",onChange:t[4]||(t[4]=function(e){return l.loadMaterial()})},[ee,(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(r.filtered_types_by_bill_id,(function(e){return Object(n["p"])(),Object(n["d"])("option",{key:e.id,value:e.id},Object(n["y"])(e.short_type_name),9,["value"])})),128))],42,["disabled"]),[[n["A"],r.type]]),r.field_validation_data&&r.field_validation_data.type?(Object(n["p"])(),Object(n["d"])("div",{key:0,class:{"invalid-feedback":r.field_validation_data&&r.field_validation_data.type}},Object(n["y"])(r.field_validation_data.type[0]),3)):Object(n["e"])("",!0)]),Object(n["g"])("div",te,[ae,Object(n["E"])(Object(n["g"])("select",{disabled:l.switchMaterialField(),"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.material=e}),class:r.field_validation_data&&r.field_validation_data.material?"custom-select is-invalid":"custom-select all-material",onChange:t[6]||(t[6]=function(e){return l.loadMaterialData()})},[ne,(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(r.filtered_materials_by_type_id,(function(e){return Object(n["p"])(),Object(n["d"])("option",{key:e.id,value:e.id},Object(n["y"])(e.short_material_name),9,["value"])})),128)),r.field_validation_data&&r.field_validation_data.material?(Object(n["p"])(),Object(n["d"])("div",{key:0,class:{"invalid-feedback":r.field_validation_data&&r.field_validation_data.material}},Object(n["y"])(r.field_validation_data.material[0]),3)):Object(n["e"])("",!0)],42,["disabled"]),[[n["A"],r.material]]),Object(n["g"])("div",ie,[Object(n["g"])("div",re,[Object(n["g"])("div",le,[Object(n["E"])(Object(n["g"])("input",{disabled:"",id:"serial_number","onUpdate:modelValue":t[7]||(t[7]=function(e){return r.serial_no=e}),class:"form-control",placeholder:"Serial Number"},null,512),[[n["B"],r.serial_no]])])]),Object(n["g"])("div",oe,[Object(n["g"])("div",se,[Object(n["E"])(Object(n["g"])("input",{disabled:"",id:"unit","onUpdate:modelValue":t[8]||(t[8]=function(e){return r.unit=e}),class:"form-control",placeholder:"Unit"},null,512),[[n["B"],r.unit]])])]),Object(n["g"])("div",ce,[Object(n["g"])("div",de,[Object(n["E"])(Object(n["g"])("input",{disabled:"",id:"quantity","onUpdate:modelValue":t[9]||(t[9]=function(e){return r.quantity=e}),class:"form-control",placeholder:"Quantity"},null,512),[[n["B"],r.quantity]])])])])]),Object(n["g"])("div",ue,[Object(n["g"])("div",be,[Object(n["g"])("div",ge,[Object(n["g"])("div",me,[pe,Object(n["E"])(Object(n["g"])("input",{type:"date",id:"submission_date",class:["form-control",{"is-invalid":r.field_validation_data&&r.field_validation_data.submission_date}],"onUpdate:modelValue":t[10]||(t[10]=function(e){return r.submission_date=e})},null,2),[[n["B"],r.submission_date]]),r.field_validation_data&&r.field_validation_data.submission_date?(Object(n["p"])(),Object(n["d"])("div",{key:0,class:{"invalid-feedback":r.field_validation_data&&r.field_validation_data.submission_date}},Object(n["y"])(r.field_validation_data.submission_date[0]),3)):Object(n["e"])("",!0)])]),Object(n["g"])("div",fe,[Object(n["g"])("div",Oe,[je,ve,_e,Object(n["E"])(Object(n["g"])("input",{type:"number",id:"work_progress",class:["form-control",{"is-invalid":r.field_validation_data&&r.field_validation_data.work_progress}],"onUpdate:modelValue":t[11]||(t[11]=function(e){return r.work_progress=e}),placeholder:"0",min:"0",step:".01"},null,2),[[n["B"],r.work_progress]]),r.field_validation_data&&r.field_validation_data.work_progress?(Object(n["p"])(),Object(n["d"])("div",{key:0,class:{"invalid-feedback":r.field_validation_data&&r.field_validation_data.work_progress}},Object(n["y"])(r.field_validation_data.work_progress[0]),3)):Object(n["e"])("",!0)])])])]),Object(n["g"])("div",he,[Object(n["g"])("button",{onSubmit:t[12]||(t[12]=Object(n["F"])((function(){return l.submitBillSubmissionForm&&l.submitBillSubmissionForm.apply(l,arguments)}),["prevent"])),id:"submit_button",class:"btn btn-primary mt-1"}," SUBMIT ",32)])])],32)])])}var we=a("1da1"),ke=(a("4de4"),a("d3b7"),a("96cf"),a("1157")),Se=a.n(ke),xe=function(e){return new Promise((function(t){var a={headers:{}},n=localStorage.getItem("token");n&&(a.headers["Authorization"]="token "+n);var i="https://dushanbe-backend-apis.herokuapp.com/api/";v.a.get(i+e,{headers:{Authorization:"token ".concat(n)}}).then((function(e){t(e.data)})).catch((function(e){console.log(e),t(!1)}))}))},Pe="TestIDB",Ie={name:"Form",data:function(){return{db:null,reqs:[],all_bills:[],all_types:[],all_materials:[],filtered_types_by_bill_id:[],filtered_materials_by_type_id:[],serial_no:null,unit:null,quantity:null,bill:null,type:null,material:null,submission_date:null,work_progress:null,field_validation_data:{bill:null,type:null,material:null,submission_date:null,work_progress:null},username:localStorage.getItem("username")}},created:function(){var e=this;return Object(we["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getDB();case 2:e.db=t.sent,e.ready=!0,e.getAllData(),e.todayDate(),e.switchTypeField(),e.switchMaterialField();case 8:case"end":return t.stop()}}),t)})))()},methods:{getAllData:function(){var e=this;return Object(we["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!localStorage.getItem("bills")){t.next=4;break}e.all_bills=JSON.parse(localStorage.getItem("bills")),t.next=8;break;case 4:return t.next=6,xe("bills/");case 6:a=t.sent,a&&localStorage.setItem("bills",JSON.stringify(a));case 8:if(!localStorage.getItem("types")){t.next=12;break}e.all_types=JSON.parse(localStorage.getItem("types")),t.next=16;break;case 12:return t.next=14,xe("types/");case 14:n=t.sent,n&&localStorage.setItem("types",JSON.stringify(n));case 16:if(!localStorage.getItem("materials")){t.next=20;break}e.all_materials=JSON.parse(localStorage.getItem("materials")),t.next=24;break;case 20:return t.next=22,xe("materials/");case 22:i=t.sent,i&&localStorage.setItem("materials",JSON.stringify(i));case 24:case"end":return t.stop()}}),t)})))()},loadType:function(){var e=this;this.filtered_types_by_bill_id=this.all_types.filter((function(t){return t.bill.id===e.bill}))},loadMaterial:function(){var e=this;this.filtered_materials_by_type_id=this.all_materials.filter((function(t){return t.type.id===e.type}))},loadMaterialData:function(){var e=this,t=this.filtered_materials_by_type_id.filter((function(t){return t.id===e.material})),a=t.length?t[0]:{};this.serial_no=a.serial_no,this.unit=a.unit,this.quantity=a.quantity},todayDate:function(){this.submission_date=(new Date).toISOString().substr(0,10)},getDB:function(){return Object(we["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var a=indexedDB.open(Pe);a.onupgradeneeded=function(e){var t=e.target.result;t.createObjectStore("post_reqs",{autoIncrement:!0,keyPath:"id"})},a.onsuccess=function(t){e(t.target.result)},a.onerror=function(e){t("Error"),alert("Error: ".concat(e.target.error," was found!"))}})));case 1:case"end":return e.stop()}}),e)})))()},submitBillSubmissionForm:function(){var e=this;return Object(we["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=localStorage.getItem("token"),n={headers:{Authorization:"token ".concat(a)}},i={bill:e.bill,type:e.type,material:e.material,submission_date:e.submission_date,work_progress:e.work_progress},t.next=5,e.addPostToDB(i);case 5:v.a.post("https://dushanbe-backend-apis.herokuapp.com/api/work-submissions/",i,n).then((function(t){h.a.fire({icon:"success",text:"Work Submitted Successfully!"}).then((function(t){e.$router.go(),console.log(t)})),console.log(t)})).catch((function(t){e.field_validation_data=t.response.data}));case 6:case"end":return t.stop()}}),t)})))()},addPostToDB:function(e){var t=this;return Object(we["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise((function(a,n){var i=t.db.transaction(["post_reqs"],"readwrite");i.oncomplete=function(){a()},i.onerror=function(){n("Error")};var r=i.objectStore("post_reqs");r.add(e)})));case 1:case"end":return a.stop()}}),a)})))()},switchTypeField:function(){this.filtered_types_by_bill_id.length>0?Se()(".all-type").removeAttr("disabled"):Se()(".all-type").attr("disabled","")},switchMaterialField:function(){this.filtered_materials_by_type_id.length>0?Se()(".all-material").removeAttr("disabled"):Se()(".all-material").attr("disabled","")}}};a("10b7");Ie.render=ye;var Fe=Ie,Be={name:"WorkSubmissionCreate",components:{Master:C,Form:Fe}};a("a3e9");Be.render=x;var De=Be;a("fb6a");Object(n["w"])("data-v-f46dd472");var Ae={class:"container py-4"},Ne={class:"main-header card p-3"},Ee={class:"header-box bg-white d-flex align-items-center justify-content-between"},Me=Object(n["g"])("div",{class:"header d-flex align-items-center"},[Object(n["g"])("img",{src:"https://ludwigpfeiffer.com/wp-content/themes/Ludwig-Pfeiffer_Theme/img/logo.png",alt:"Dushanbe"}),Object(n["g"])("h1",{class:"mb-0"},"Works List")],-1),Te={class:"page-title-heading"},Ue=Object(n["g"])("button",{type:"button",class:"btn btn-primary"},[Object(n["g"])("span",{class:"fas fa-plus-circle mr-1"}),Object(n["f"])(" Add Work ")],-1),Le={class:"accordion mt-4",id:"accordionExample"},We={class:"mb-0"},qe={class:"card-body border-top"},Ce={class:"outer-box type-and-user"},Re={class:"inner-box"},Ve=Object(n["g"])("small",null,"Serial No",-1),Je={class:"inner-box"},ze=Object(n["g"])("small",null,"Unit",-1),$e={class:"text"},Qe={class:"inner-box"},Ye=Object(n["g"])("small",null,"Quantity",-1),Ge={class:"inner-box"},He=Object(n["g"])("small",null,"Work Progress",-1),Ke={class:"inner-box"},Xe=Object(n["g"])("small",null,"Submitted By",-1),Ze={class:"inner-box"},et=Object(n["g"])("small",null,"Type",-1),tt={class:"inner-box mt-3"},at=Object(n["g"])("small",null,"Material",-1),nt={class:"mb-0"},it=Object(n["g"])("div",{class:"dropdown-divider my-3"},null,-1),rt={class:"outer-box"},lt=Object(n["g"])("h5",null,"Material",-1),ot=Object(n["g"])("div",{class:"dropdown-divider my-3"},null,-1),st={class:"box"},ct=Object(n["g"])("small",null,"Submitted By",-1),dt={class:"mb-0"},ut={"aria-label":"Page navigation example"},bt={class:"pagination"},gt=Object(n["g"])("a",{class:"page-link",href:"#",tabindex:"-1"},"Previous",-1),mt=Object(n["g"])("a",{class:"page-link",href:"#"},"Next",-1);function pt(e,t,a,i,r,l){var o=Object(n["v"])("router-link");return Object(n["p"])(),Object(n["d"])("div",Ae,[Object(n["g"])("div",Ne,[Object(n["g"])("div",Ee,[Me,Object(n["g"])("div",Te,[Object(n["g"])(o,{to:{name:"WorkSubmissionCreate"}},{default:Object(n["D"])((function(){return[Ue]})),_:1})])])]),Object(n["g"])("div",Le,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(r.all_work_submissions.slice(l.pageStart,l.pageStart+r.itemPerPage),(function(e,t){return Object(n["p"])(),Object(n["d"])("div",{class:"card",key:e.id},[Object(n["g"])("div",{class:"card-header",id:"heading_"+e.id},[Object(n["g"])("h2",We,[Object(n["g"])("button",{class:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapse_"+e.id,"aria-expanded":t<1,"aria-controls":"collapse_"+e.id},[Object(n["g"])("span",null,Object(n["y"])(e.id+". "+e.bill.bill_name+"..."),1),Object(n["g"])("span",null,Object(n["y"])(e.submission_date),1)],8,["data-target","aria-expanded","aria-controls"])])],8,["id"]),Object(n["g"])("div",{id:"collapse_"+e.id,class:t<1?"collapse show":"collapse","aria-labelledby":"heading_"+e.id,"data-parent":"#accordionExample"},[Object(n["g"])("div",qe,[Object(n["g"])("div",Ce,[Object(n["g"])("div",Re,[Ve,Object(n["g"])("h5",null,Object(n["y"])(e.material.serial_no),1)]),Object(n["g"])("div",Je,[ze,Object(n["g"])("h5",$e,Object(n["y"])(e.material.unit),1)]),Object(n["g"])("div",Qe,[Ye,Object(n["g"])("h5",null,Object(n["y"])(e.material.quantity),1)]),Object(n["g"])("div",Ge,[He,Object(n["g"])("h5",null,Object(n["y"])(e.work_progress),1)]),Object(n["g"])("div",Ke,[Xe,Object(n["g"])("h5",null,Object(n["y"])(e.created_by.username),1)]),Object(n["g"])("div",Ze,[et,Object(n["g"])("h5",null,Object(n["y"])(e.type.type_name),1)])]),Object(n["g"])("div",tt,[at,Object(n["g"])("p",nt,Object(n["y"])(e.material.material_name),1)]),it,Object(n["g"])("div",rt,[lt,Object(n["g"])("p",null,Object(n["y"])(e.material.material_name),1)]),ot,Object(n["g"])("div",st,[ct,Object(n["g"])("h5",dt,Object(n["y"])(e.created_by.username),1)])])],10,["id","aria-labelledby"])])})),128))]),Object(n["g"])("nav",ut,[Object(n["g"])("ul",bt,[Object(n["g"])("li",{class:["page-item ",1===r.currentPage?"disabled":""],onClick:t[1]||(t[1]=Object(n["F"])((function(e){return l.setPage(r.currentPage-1)}),["prevent"]))},[gt],2),Object(n["g"])("li",{class:["page-item ",r.currentPage===l.totalPage?"disabled":""],onClick:t[2]||(t[2]=Object(n["F"])((function(e){return l.setPage(r.currentPage+1)}),["prevent"]))},[mt],2)])])])}Object(n["w"])(null);var ft={name:"WorkSubmissionList",data:function(){return{all_work_submissions:[],baseUrl:"https://dushanbe-backend-apis.herokuapp.com/api/work-submissions/",currentPage:1,itemPerPage:5,isLoading:!0}},methods:{loadWorkSubmission:function(){var e=this,t=localStorage.getItem("token"),a=parseInt(localStorage.getItem("id"));v.a.get(this.baseUrl,{headers:{Authorization:"token ".concat(t)},params:{user_id:a,page:this.$route.query.page}}).then((function(t){e.all_work_submissions=t.data.results})).catch((function(e){console.log(e)}))},setPage:function(e){e<=0||e>this.totalPage||(this.currentPage=e)}},created:function(){this.loadWorkSubmission()},computed:{displayedPosts:function(){return this.all_work_submissions},pageStart:function(){return(this.currentPage-1)*this.itemPerPage},totalPage:function(){return Math.ceil(this.all_work_submissions.length/this.itemPerPage)}}};a("2950");ft.render=pt,ft.__scopeId="data-v-f46dd472";var Ot=ft;function jt(){window.navigator.onLine?alert("You are Online 👍🏼"):alert("You are Offline 😱")}function vt(e,t,a){var n=!1;n=!!localStorage.getItem("token"),n?a():a("/")}var _t={app_mode:jt,guardRoute:vt},ht=_t,yt=[{path:"/",name:"Login",component:S},{path:"/work-submission-create",name:"WorkSubmissionCreate",component:De,beforeEnter:ht.app_mode()},{path:"/work-submission-list",name:"WorkSubmissionList",component:Ot}],wt=Object(s["a"])({history:Object(s["b"])("/"),routes:yt}),kt=wt;a("ab8b");Object(n["c"])(l).use(kt).mount("#app")},"5fa6":function(e,t,a){},"80b9":function(e,t,a){"use strict";a("5fa6")},"98b0":function(e,t,a){},9919:function(e,t,a){},"9cb9":function(e,t,a){},a3e9:function(e,t,a){"use strict";a("26f5")},c3ae:function(e,t,a){},d2f4:function(e,t,a){"use strict";a("9919")},f2bc:function(e,t,a){"use strict";a("98b0")}});
//# sourceMappingURL=app.09a031af.js.map